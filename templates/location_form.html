{% extends "base.html" %}
{% block content %}
  <div class="card p-3">
    <div class="d-flex justify-content-between mb-3">
      <h4 class="mb-0">{{ location and ( 'View' if readonly else 'Edit' ) or 'Add' }} Location</h4>
      <div class="muted small">{{ location.location_id if location else '' }}</div>
    </div>

    <form method="post" class="row g-3">
      <div class="col-12 col-md-6">
        <label class="form-label">Location ID</label>
        <input class="form-control" name="location_id" value="{{ location.location_id if location else '' }}" {% if location %}readonly{% endif %} required>
      </div>
      <div class="col-12 col-md-6">
        <label class="form-label">Name</label>
        <input class="form-control" name="name" value="{{ location.name if location else '' }}" {% if readonly %}readonly{% endif %} required>
      </div>
      <div class="col-12">
        <label class="form-label">Address</label>
        <textarea class="form-control" name="address" rows="3" {% if readonly %}readonly{% endif %}>{{ location.address if location else '' }}</textarea>
      </div>

      <div class="col-12">
        {% if not readonly %}
          <button class="btn btn-success"><i class="bi bi-save"></i> Save</button>
          <a class="btn btn-outline-secondary" href="{{ url_for('locations') }}">Cancel</a>
        {% else %}
          <a class="btn btn-primary" href="{{ url_for('edit_location', location_id=location.location_id) }}">Edit</a>
          <a class="btn btn-outline-secondary" href="{{ url_for('locations') }}">Back</a>
        {% endif %}
      </div>
    </form>
  </div>
{% endblock %}
